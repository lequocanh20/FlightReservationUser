<div class="container col-12 mt-2 mb-5">
    <h4>Chọn chuyến bay</h4>
    <p>Chọn chuyến bay Hà Nội ({{this.formReservation.flyingFrom}}), Việt Nam - Tp. Hồ Chí Minh ({{this.formReservation.flyingTo}}), Việt Nam</p>
    <div class="card border-0">
        <div class="card-body">
            <p>Lưu ý: Giá dưới đây chưa bao gồm thuế, phí</p>
            <p>+ Phí Dịch Vụ Đặc Biệt</p>
            <p>+ Thuế, Phí, Lệ phí & Phụ thu</p>
            <p>Đồng tiền thanh toán là "VND", Quý khách kiểm tra kỹ đồng tiền trước khi thanh toán.</p>
        </div>
    </div>
    <br>
    <div class="d-flex row" >
        <div class="col-12" *ngFor="let result of resultLegs">
            <div class="card border-0 mt-2">
                <div class="card-body bg-top d-flex p-3">
                    <div class="p-4 d-flex flex-column mr-auto">
                        <div class="d-flex flex-row justify-content-between">
                            <div class="d-flex flex-column justify-content-between align-items-center">
                                <h2>{{ result[0].departureTime }}</h2><span class="mb-2" style="font-size: 25px;">{{ result[0].departureAirportCode }}</span>
                            </div>
                            <div class="d-flex flex-column justify-content-center p-4"><i class="fa fa-plane fa-3x"></i></div>
                            <div class="d-flex flex-column justify-content-between align-items-center">
                                <h2>{{ result[0].arrivalTime }}</h2><span class="mb-2" style="font-size: 25px;">{{ result[0].arrivalAirportCode }}</span>
                            </div>
                        </div> 
                        <div class="d-flex flex-row">
                            <span class="p-2">{{ math.floor(result[0].segments[0].durationMinutes / 60) }} tiếng {{ result[0].segments[0].durationMinutes - (math.floor(result[0].segments[0].durationMinutes / 60) * 60) }} phút</span> 
                            <span class="p-2" *ngIf="result[0].stopoverCode == 'DIRECT'"><b>Bay thẳng</b></span>
                        </div>
                        <div class="d-flex flex-row pt-4">
                            <a type="button" class="btn btn-primary" data-toggle="collapse" href="#{{ result[0].id}}">Xem thêm</a>                           
                        </div>                  
                    </div>                
                    <!-- <div class="p-4 bg-top d-flex flex-row mr-auto">
                        <span class="p-2">{{result.segments[0].designatorCode}} - Airbus A321</span>              
                    </div>                     -->
                    <div class="pl-5 bg-top d-flex flex-row">
                        <div class="p-4 m-5 d-flex flex-row small-card">
                            <div class="d-flex flex-row justify-content-between" *ngFor="let resultFare of resultFares">
                                <div class="d-flex flex-column mt-4" *ngFor="let resultTrip of resultTrips">
                                    <a [routerLink]="['/flight-selection', result[0].id, this.formReservation.flyingFrom,
                                    this.formReservation.flyingTo, this.formReservation.departing, this.formReservation.adult,
                                    this.formReservation.children, this.formReservation.travelClass]" *ngIf="resultFare[0].tripId == resultTrip[0].id && resultTrip[0].legIds[0] == result[0].id"><h4>{{resultFare[0].price.totalAmount | currency:'VND':'symbol':'4.0-2'}}</h4></a>
                                </div>
                            </div>
                        </div>
                    </div>                                        
                </div>                               
            </div>   
            <div class="collapse mb-2 mt-2" id="{{result[0].id}}">
                <div class="card card-body">
                    <div>18 Thg 06, 17:45 Hà Nội</div>
                    <div>VN 217Hãng khai thác Vietnam Airlines</div>       
                    <div>Máy bay:Boeing B787</div>
                    <div>Thời gian di chuyển:2 tiếng 15 phút</div>
                    <div>18 Thg 06, 20:00 Tp. Hồ Chí Minh</div>
                </div>
            </div>
        </div>
    </div>
</div>